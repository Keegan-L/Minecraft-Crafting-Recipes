{% extends "base.html" %}

{% block content %}
<div class="welcome-text">
    <h1>{{ category_name }} Items</h1>
</div>

<div class="progress-counter">
    Progress: <span id="visitedCount">0</span>/{{ items|length }} items visited
</div>

<div class="card-grid">
    {% for item in items %}
    <div class="card clickable-card {% if item.name in visited_items %}visited{% endif %}" 
         onclick="window.location.href='/learn/{{ item.name }}'"
         data-item-name="{{ item.name }}">
        {% if item.name in visited_items %}
        <div class="checkmark">âœ“</div>
        {% endif %}
        <h2>{{ item.name }}</h2>
        <p>{{ item.desc }}</p>
        <h3>Made from:</h3>
        <ul>
            {% for material in item.madeof %}
            <li>{{ material }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>

<div style="text-align: center; margin-top: 20px;">
    <button onclick="window.location.href='/'">Back to Home</button>
</div>

<script>
    // Update visited count
    document.getElementById('visitedCount').textContent = {{ visited_items|length }};
</script>
{% endblock %} 